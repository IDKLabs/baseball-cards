{"version":3,"sources":["app/Layout/layout.module.scss","constants/routes.js","constants/history.js","components/Error/index.js","components/Message/MessageCreate/index.js","components/Message/MessageDelete/index.js","components/Loading/index.js","app/_session/queries.js","app/_session/withSession.js","components/Message/Messages/index.js","app/Landing/index.js","app/SignUp/index.js","components/Button/index.js","app/SignIn/index.js","app/Account/index.js","app/Admin/index.js","components/Block/index.js","app/Create/Start.js","app/Create/parse-data.js","app/Create/Result.jsx","app/Create/FormCapture.js","app/Create/index.js","components/SignOutButton/index.js","app/Layout/links.js","app/Layout/Navigation.js","app/Layout/Header.js","app/Layout/Layout.js","app/Route.js","app/Controller.js","index.js","app/Create/card-styles.module.scss","components/Button/button.module.scss","components/Block/block.module.scss"],"names":["module","exports","header","headerContainer","linkGroup","active","headerSpacer","page","LANDING","SIGN_IN","createHistory","ErrorMessage","_ref","error","react_default","a","createElement","message","CREATE_MESSAGE","gql","_templateObject","MessageCreate","state","text","onChange","event","_event$target","target","name","value","_this","setState","Object","defineProperty","onSubmit","_callee","createMessage","regenerator_default","wrap","_context","prev","next","preventDefault","t0","stop","this","_this2","react_apollo_browser_umd","mutation","variables","_ref2","data","loading","type","placeholder","Error","Component","GET_ALL_MESSAGES_WITH_USERS","MessageDelete_templateObject","DELETE_MESSAGE","_templateObject2","MessageDelete","id","update","cache","readQuery","query","writeQuery","objectSpread","messages","edges","filter","node","pageInfo","deleteMessage","onClick","Loading","GET_ME","queries_templateObject","withSession","props","refetch","assign","session","MESSAGE_CREATED","Messages_templateObject","GET_PAGINATED_MESSAGES_WITH_USERS","Messages_templateObject2","MoreMessagesButton","_ref3","limit","fetchMore","children","cursor","endCursor","updateQuery","previousResult","_ref4","fetchMoreResult","toConsumableArray","concat","MessageList","subscribeToMoreMessage","subscribeToMore","document","_ref5","subscriptionData","messageCreated","map","MessageItem","key","_ref6","user","username","createdAt","me","Message_MessageDelete","Messages","components_Loading","react","Messages_MessageList","hasNextPage","Messages_MoreMessagesButton","Landing","Message_MessageCreate","Message_Messages","SIGN_UP","SignUp_templateObject","INITIAL_STATE","email","password","passwordConfirmation","SignUpForm","signUp","then","asyncToGenerator","mark","localStorage","setItem","token","history","push","routes","_x","apply","arguments","_this$state","isInvalid","className","disabled","SignUpLink","Link","to","withRouter","cx","style","maxWidth","margin","role","SignUp_SignUpForm","styleBooleans","Button","attrs","block","color","href","label","outline","size","styleName","disable","v2","aria-disabled","classes","styles","button","op","buttonProps","buttonChild","defaultProps","reduce","acc","option","SignIn_templateObject","login","SignInForm","signIn","components_Button","primary","SignIn","SignIn_SignInForm","SignUp_SignUpLink","AccountPage","AdminPage","Block","_ref$style","compose","withState","emailAddress","onStartClick","setEmail","Fragment","e","RegExp","test","action","wide","QuestionEnum","freeze","rnvWAsfgW4RE","vnvh1p0BHOjH","OujNkQUEGcxq","lholtbCkm542","yswVsZJF3OLY","LhOaJ52zKTqh","ajOTXg81Ou9e","DmaCcx7NbRCK","zCF8EtswjLgK","G2ClpKHU5MXL","imO8dFX8WJYj","ek8ABqe04iZA","ENKedq86vJws","RJIuGCogR1O2","WkylEIcfBWYz","Etbsq0aUxmUq","parse_data","typeformResponse","obj","JSON","parse","_","get","console","warn","log","response","answers","survey","answer","field","answerValue","answerVal","choice","parseAnswer","GET_TYPEFORM_RESPONSE","Result_templateObject","Facts","facts","HOGWARTS","hogwarts","fact","house","MYERS","myers","ENNEAGRAM","enneagram","EMOJI","emoji","Answers","VALUES","strengths","STRENGTHS","GROWTH_AREAS","weaknesses","GOALS","goals","graphql","options","userEmail","objectWithoutProperties","cleanData","card","cardContainer","upper","image","Result_Facts","NAME","INSTAGRAM","rel","GITHUB","skills","skill","skilltxt","ROLE","chunk","Result_Answers","fontSize","readOnly","StageEnum","START","AWAITING_RESPONSE","SUCCESS","FAIL","Awaiting","onAwaitCancel","onAwaitContinue","link","Create_FormCapture","withHandlers","newEmail","setStage","setUserEmail","window","open","comp","stage","Create_Start","FormCapture_Awaiting","Create_Result","minHeight","Page","templatesEnabled","Switch","Route","exact","path","es_Redirect","component","FormCapture","signOut","client","removeItem","resetStore","SignOutButton","LinkEnum","title","ACCOUNT","icon","ADMIN","CREATE","LOG_OUT","kind","NavigationLink","hideMobileMenu","_props$styleNames","styleNames","_props$attrs","propsClassName","keyname","replace","navLink","content","iconWrap","linkText","NavLink","activeClassName","esm_extends","isLoggedIn","isAdmin","links","groupOne","groupTwo","small","defaultLinks","components_SignOutButton","Navigation_NavigationLink","Header","pathName","location","DefaultLayout","_cx","navIsCollapsed","currentUser","setNavCollapsed","pageName","Sidebar_default","Layout_Navigation","padding","renderPage","_ref$Layout","Layout","AppLayout","AdminRoute","rest","es_Route","render","Redirect","PrivateRoute","PublicRoute","Router","Route_PrivateRoute","LandingPage","Route_PublicRoute","SignUpPage","CreateCard","SignInPage","Route_AdminRoute","apiEndpoint","httpLink","HttpLink","uri","wsLink","WebSocketLink","reconnect","terminatingLink","split","_getMainDefinition","getMainDefinition","operation","authLink","ApolloLink","forward","setContext","_ref2$headers","headers","getItem","x-token","errorLink","onError","graphQLErrors","networkError","forEach","locations","statusCode","from","InMemoryCache","ApolloClient","ReactDOM","Controller","getElementById","noWebkitAppearance","inactive","square","large","success","ghost","danger","white","whitePurple"],"mappings":"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","file":"static/js/main.70f49237.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"layout_header__1JlwE\",\"headerContainer\":\"layout_headerContainer__2sAxR\",\"linkGroup\":\"layout_linkGroup__2bJUr\",\"active\":\"layout_active__3ITC3\",\"headerSpacer\":\"layout_headerSpacer__3Yq7C\",\"page\":\"layout_page__1OOHC\"};","export const LANDING = '/';\nexport const SIGN_UP = '/signup';\nexport const SIGN_IN = '/signin';\nexport const ACCOUNT = '/account';\nexport const ADMIN = '/admin';\nexport const CREATE = '/create';\n","import createHistory from 'history/createBrowserHistory';\n\nexport default createHistory();\n","import React from 'react';\n\nconst ErrorMessage = ({ error }) => (\n  <div>\n    <small>{error.message}</small>\n  </div>\n);\n\nexport default ErrorMessage;\n","import React, { Component } from 'react';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\n\nimport ErrorMessage from '../../Error';\n\nconst CREATE_MESSAGE = gql`\n  mutation($text: String!) {\n    createMessage(text: $text) {\n      id\n      text\n      createdAt\n      user {\n        id\n        username\n      }\n    }\n  }\n`;\n\nclass MessageCreate extends Component {\n  state = {\n    text: '',\n  };\n\n  onChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  onSubmit = async (event, createMessage) => {\n    event.preventDefault();\n\n    try {\n      await createMessage();\n      this.setState({ text: '' });\n    } catch (error) {}\n  };\n\n  render() {\n    const { text } = this.state;\n\n    return (\n      <Mutation\n        mutation={CREATE_MESSAGE}\n        variables={{ text }}\n        // Not used anymore because of Subscription\n\n        // update={(cache, { data: { createMessage } }) => {\n        //   const data = cache.readQuery({\n        //     query: GET_ALL_MESSAGES_WITH_USERS,\n        //   });\n\n        //   cache.writeQuery({\n        //     query: GET_ALL_MESSAGES_WITH_USERS,\n        //     data: {\n        //       ...data,\n        //       messages: {\n        //         ...data.messages,\n        //         edges: [createMessage, ...data.messages.edges],\n        //         pageInfo: data.messages.pageInfo,\n        //       },\n        //     },\n        //   });\n        // }}\n      >\n        {(createMessage, { data, loading, error }) => (\n          <form\n            onSubmit={event => this.onSubmit(event, createMessage)}\n          >\n            <textarea\n              name=\"text\"\n              value={text}\n              onChange={this.onChange}\n              type=\"text\"\n              placeholder=\"Your message ...\"\n            />\n            <button type=\"submit\">Send</button>\n\n            {error && <ErrorMessage error={error} />}\n          </form>\n        )}\n      </Mutation>\n    );\n  }\n}\n\nexport default MessageCreate;\n","import React from 'react';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\n\nconst GET_ALL_MESSAGES_WITH_USERS = gql`\n  query {\n    messages(order: \"DESC\") @connection(key: \"MessagesConnection\") {\n      edges {\n        id\n        text\n        createdAt\n        user {\n          id\n          username\n        }\n      }\n      pageInfo {\n        hasNextPage\n      }\n    }\n  }\n`;\n\nconst DELETE_MESSAGE = gql`\n  mutation($id: ID!) {\n    deleteMessage(id: $id)\n  }\n`;\n\nconst MessageDelete = ({ message }) => (\n  <Mutation\n    mutation={DELETE_MESSAGE}\n    variables={{ id: message.id }}\n    update={cache => {\n      const data = cache.readQuery({\n        query: GET_ALL_MESSAGES_WITH_USERS,\n      });\n\n      cache.writeQuery({\n        query: GET_ALL_MESSAGES_WITH_USERS,\n        data: {\n          ...data,\n          messages: {\n            ...data.messages,\n            edges: data.messages.edges.filter(\n              node => node.id !== message.id,\n            ),\n            pageInfo: data.messages.pageInfo,\n          },\n        },\n      });\n    }}\n  >\n    {(deleteMessage, { data, loading, error }) => (\n      <button type=\"button\" onClick={deleteMessage}>\n        Delete\n      </button>\n    )}\n  </Mutation>\n);\n\nexport default MessageDelete;\n","import React from 'react';\n\nconst Loading = () => <div>Loading ...</div>;\n\nexport default Loading;\n","import gql from 'graphql-tag';\n\nexport const GET_ME = gql`\n  {\n    me {\n      id\n      username\n      email\n      role\n    }\n  }\n`;\n","import React from 'react';\nimport { Query } from 'react-apollo';\nimport { GET_ME } from './queries';\n\nconst withSession = Component => props => (\n  <Query query={GET_ME}>\n    {({ data, refetch }) => (\n      <Component {...props} session={data} refetch={refetch} />\n    )}\n  </Query>\n);\n\nexport default withSession;\n","import React, { Component, Fragment } from 'react';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\n\nimport MessageDelete from '../MessageDelete';\nimport Loading from '../../Loading';\nimport withSession from '../../../app/_session/withSession';\n\nconst MESSAGE_CREATED = gql`\n  subscription {\n    messageCreated {\n      message {\n        id\n        text\n        createdAt\n        user {\n          id\n          username\n        }\n      }\n    }\n  }\n`;\n\nconst GET_PAGINATED_MESSAGES_WITH_USERS = gql`\n  query($cursor: String, $limit: Int!) {\n    messages(cursor: $cursor, limit: $limit)\n      @connection(key: \"MessagesConnection\") {\n      edges {\n        id\n        text\n        createdAt\n        user {\n          id\n          username\n        }\n      }\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n    }\n  }\n`;\n\nconst Messages = ({ limit }) => (\n  <Query\n    query={GET_PAGINATED_MESSAGES_WITH_USERS}\n    variables={{ limit }}\n  >\n    {({ data, loading, error, fetchMore, subscribeToMore }) => {\n      if (!data) {\n        return (\n          <div>\n            There are no messages yet ... Try to create one by\n            yourself.\n          </div>\n        );\n      }\n\n      const { messages } = data;\n\n      if (loading || !messages) {\n        return <Loading />;\n      }\n\n      const { edges, pageInfo } = messages;\n\n      return (\n        <Fragment>\n          <MessageList\n            messages={edges}\n            subscribeToMore={subscribeToMore}\n          />\n\n          {pageInfo.hasNextPage && (\n            <MoreMessagesButton\n              limit={limit}\n              pageInfo={pageInfo}\n              fetchMore={fetchMore}\n            >\n              More\n            </MoreMessagesButton>\n          )}\n        </Fragment>\n      );\n    }}\n  </Query>\n);\n\nconst MoreMessagesButton = ({\n  limit,\n  pageInfo,\n  fetchMore,\n  children,\n}) => (\n  <button\n    type=\"button\"\n    onClick={() =>\n      fetchMore({\n        variables: {\n          cursor: pageInfo.endCursor,\n          limit,\n        },\n        updateQuery: (previousResult, { fetchMoreResult }) => {\n          if (!fetchMoreResult) {\n            return previousResult;\n          }\n\n          return {\n            messages: {\n              ...fetchMoreResult.messages,\n              edges: [\n                ...previousResult.messages.edges,\n                ...fetchMoreResult.messages.edges,\n              ],\n            },\n          };\n        },\n      })\n    }\n  >\n    {children}\n  </button>\n);\n\nclass MessageList extends Component {\n  subscribeToMoreMessage = () => {\n    this.props.subscribeToMore({\n      document: MESSAGE_CREATED,\n      updateQuery: (previousResult, { subscriptionData }) => {\n        if (!subscriptionData.data) {\n          return previousResult;\n        }\n\n        const { messageCreated } = subscriptionData.data;\n\n        return {\n          ...previousResult,\n          messages: {\n            ...previousResult.messages,\n            edges: [\n              messageCreated.message,\n              ...previousResult.messages.edges,\n            ],\n          },\n        };\n      },\n    });\n  };\n\n  componentDidMount() {\n    this.subscribeToMoreMessage();\n  }\n\n  render() {\n    const { messages } = this.props;\n\n    return messages.map(message => (\n      <MessageItem key={message.id} message={message} />\n    ));\n  }\n}\n\nconst MessageItemBase = ({ message, session }) => (\n  <div>\n    <h3>{message.user.username}</h3>\n    <small>{message.createdAt}</small>\n    <p>{message.text}</p>\n\n    {session &&\n      session.me &&\n      message.user.id === session.me.id && (\n        <MessageDelete message={message} />\n      )}\n  </div>\n);\n\nconst MessageItem = withSession(MessageItemBase);\n\nexport default Messages;\n","import React from 'react';\nimport { MessageCreate, Messages } from 'components/Message';\n\nconst Landing = ({ session }) => (\n  <div>\n    <h2>Landing Page</h2>\n\n    {session && session.me && <MessageCreate />}\n    <Messages limit={2} />\n  </div>\n);\n\nexport default Landing;\n","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport cx from 'classnames';\nimport * as routes from 'constants/routes';\nimport ErrorMessage from 'components/Error';\n\nconst SIGN_UP = gql`\n  mutation($username: String!, $email: String!, $password: String!) {\n    signUp(username: $username, email: $email, password: $password) {\n      token\n    }\n  }\n`;\n\nconst INITIAL_STATE = {\n  username: '',\n  email: '',\n  password: '',\n  passwordConfirmation: '',\n};\n\nconst SignUpPage = ({ history, refetch }) => (\n  <div className={cx('bg-white', 'text-center', 'p-4')} style={{ maxWidth: '500px', margin: '0 auto' }}>\n    <h1><span role=\"img\">✨</span></h1>\n    <SignUpForm history={history} refetch={refetch} />\n  </div>\n);\n\nclass SignUpForm extends Component {\n  state = { ...INITIAL_STATE };\n\n  onChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  onSubmit = (event, signUp) => {\n    signUp().then(async ({ data }) => {\n      this.setState({ ...INITIAL_STATE });\n\n      localStorage.setItem('token', data.signUp.token);\n\n      await this.props.refetch();\n\n      this.props.history.push(routes.LANDING);\n    });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const {\n      username,\n      email,\n      password,\n      passwordConfirmation,\n    } = this.state;\n\n    const isInvalid = password !== passwordConfirmation\n      || password === ''\n      || email === ''\n      || username === '';\n\n    return (\n      <Mutation\n        mutation={SIGN_UP}\n        variables={{ username, email, password }}\n      >\n        {(signUp, { data, loading, error }) => (\n          <form onSubmit={event => this.onSubmit(event, signUp)}>\n            <input\n              className=\"w-100 mb-3\"\n              name=\"username\"\n              value={username}\n              onChange={this.onChange}\n              type=\"text\"\n              placeholder=\"Full Name\"\n            />\n            <input\n              className=\"w-100 mb-3\"\n              name=\"email\"\n              value={email}\n              onChange={this.onChange}\n              type=\"text\"\n              placeholder=\"Email Address\"\n            />\n            <input\n              className=\"w-100 mb-3\"\n              name=\"password\"\n              value={password}\n              onChange={this.onChange}\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n            <input\n              className=\"w-100 mb-3\"\n              name=\"passwordConfirmation\"\n              value={passwordConfirmation}\n              onChange={this.onChange}\n              type=\"password\"\n              placeholder=\"Confirm Password\"\n            />\n            <button disabled={isInvalid || loading} type=\"submit\">\n              Sign Up\n            </button>\n\n            {error && <ErrorMessage error={error} />}\n          </form>\n        )}\n      </Mutation>\n    );\n  }\n}\n\nconst SignUpLink = () => (\n  <p>\n    Don't have a baseball card yet? <Link to={routes.CREATE}>Create one</Link>\n  </p>\n);\n\nexport default withRouter(SignUpPage);\n\nexport { SignUpForm, SignUpLink };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { Link } from 'react-router-dom';\nimport styles from './button.module.scss';\n\nconst styleBooleans = [\n  // sizes\n  'wide',\n  'small',\n  'large',\n  'block',\n\n  // colors\n  'primary',\n  'secondary',\n  'success',\n  'info',\n  'warning',\n  'danger',\n  'default',\n  'white',\n  'action',\n\n  // types\n  'link',\n  'square',\n  'active',\n  'inactive',\n  'loading',\n  'disabled',\n  'ghost',\n];\n\nconst Button = (props) => {\n  const {\n    attrs,\n    block,\n    children,\n    className,\n    color,\n    disabled,\n    href,\n    id,\n    label,\n    loading,\n    onClick,\n    outline,\n    size,\n    style,\n    styleName,\n    to,\n    type,\n    v2,\n  } = props;\n\n  const disable = disabled ? {\n    disabled: 'disabled', 'aria-disabled': true,\n  } : {};\n\n  const classes = [\n    styles.button,\n    ...styleBooleans.map(op => (props[op] ? styles[op] : '')),\n    styleName ? styles[styleName] : '',\n    className,\n  ];\n\n  const buttonProps = {\n    type,\n    className: cx(classes, { disabled, loading }),\n    style,\n    id,\n    ...disable,\n    ...attrs,\n  };\n\n  const buttonChild = children || label;\n\n  if (to) {\n    return <Link {...buttonProps} to={to}>{buttonChild}</Link>;\n  }\n  if (href) {\n    return <a {...buttonProps} href={href}>{buttonChild}</a>;\n  }\n  return <button {...buttonProps} onClick={onClick}>{buttonChild}</button>; // eslint-disable-line\n};\n\nButton.defaultProps = {\n  attrs: {},\n  block: false,\n  children: null,\n  className: null,\n  color: 'default',\n  disabled: false,\n  href: null,\n  label: 'Submit',\n  loading: false,\n  onClick: () => {},\n  outline: false,\n  size: null,\n  style: {},\n  styleName: '',\n  type: 'button',\n  id: null,\n  v2: true,\n  ...(styleBooleans.reduce((acc, option) => ({ ...acc, [option]: false })), {}),\n};\n\nButton.propTypes = {\n  attrs: PropTypes.objectOf(PropTypes.string),\n  block: PropTypes.bool,\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.oneOfType([\n      PropTypes.node,\n    ])),\n  ]),\n  className: PropTypes.oneOfType([PropTypes.array, PropTypes.string]),\n  color: PropTypes.oneOf(['primary', 'secondary', 'success', 'info', 'warning', 'danger', 'link', 'default']),\n  disabled: PropTypes.bool,\n  href: PropTypes.string,\n  label: PropTypes.string,\n  loading: PropTypes.bool,\n  onClick: PropTypes.func,\n  outline: PropTypes.bool,\n  id: PropTypes.string,\n  size: PropTypes.oneOf(['lg', 'sm']),\n  style: PropTypes.objectOf(PropTypes.string),\n  styleName: PropTypes.string,\n  type: PropTypes.oneOf(['button', 'reset', 'submit']),\n  v2: PropTypes.bool,\n  ...(styleBooleans.reduce((acc, option) => ({ ...acc, [option]: PropTypes.bool })), {}),\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport cx from 'classnames';\n\nimport * as routes from 'constants/routes';\nimport ErrorMessage from 'components/Error';\nimport Button from 'components/Button';\nimport { SignUpLink } from '../SignUp';\n\nconst SIGN_IN = gql`\n  mutation($login: String!, $password: String!) {\n    signIn(login: $login, password: $password) {\n      token\n    }\n  }\n`;\n\nconst SignInPage = ({ history, refetch }) => (\n  <div className={cx('bg-white', 'text-center', 'p-4')} style={{ maxWidth: '500px', margin: '0 auto' }}>\n    <h1><span role=\"img\">👋</span></h1>\n    <SignInForm history={history} refetch={refetch} />\n    <SignUpLink />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  login: '',\n  password: '',\n};\n\nclass SignInForm extends Component {\n  state = { ...INITIAL_STATE };\n\n  onChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  onSubmit = (event, signIn) => {\n    signIn().then(async ({ data }) => {\n      this.setState({ ...INITIAL_STATE });\n\n      localStorage.setItem('token', data.signIn.token);\n\n      await this.props.refetch();\n\n      this.props.history.push(routes.LANDING);\n    });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { login, password } = this.state;\n\n    const isInvalid = password === '' || login === '';\n\n    return (\n      <Mutation mutation={SIGN_IN} variables={{ login, password }}>\n        {(signIn, { data, loading, error }) => (\n          <form onSubmit={event => this.onSubmit(event, signIn)}>\n            <input\n              className=\"w-100 mb-3\"\n              name=\"login\"\n              value={login}\n              onChange={this.onChange}\n              type=\"text\"\n              placeholder=\"Email or Username\"\n            />\n            <input\n              className=\"w-100 mb-3\"\n              name=\"password\"\n              value={password}\n              onChange={this.onChange}\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n            <Button className=\"mb-3\" primary block disabled={isInvalid || loading} type=\"submit\">\n              Sign In\n            </Button>\n\n            {error && <ErrorMessage error={error} />}\n          </form>\n        )}\n      </Mutation>\n    );\n  }\n}\n\nexport default withRouter(SignInPage);\n\nexport { SignInForm };\n","import React from 'react';\n\nconst AccountPage = () => (\n  <div>\n    <h1>Account Page</h1>\n  </div>\n);\n\nexport default AccountPage;\n","import React from 'react';\n\nimport withAuthorization from '../_session/withAuthorization';\n\nconst AdminPage = () => (\n  <div>\n    <h1>Admin Page</h1>\n  </div>\n);\n\nexport default AdminPage;\n","import _ from 'lodash';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './block.module.scss';\n\nexport default ({ children, className, style = {} }) => (\n  <div\n    className={cx(styles.block, 'bg-white', 'text-center', 'p-4', className)}\n    style={{ maxWidth: '720px', margin: '0 auto', ...style }}\n  >\n    {children}\n  </div>\n);\n","import _ from 'lodash';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport {\n  compose, branch, withState, withHandlers,\n} from 'recompose';\nimport { graphql } from 'react-apollo';\nimport Block from 'components/Block';\nimport Button from 'components/Button';\n\nfunction isValidEmail(emailAddress) {\n  const pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n  return pattern.test(emailAddress);\n}\n\nconst Start = ({ onStartClick, email, setEmail }) => (\n  <React.Fragment>\n    <h1>✨ Create a card</h1>\n    <p>You'll fill out a quick survey to create content for your card.</p>\n    <p className=\"mb-1\">First, enter your email:</p>\n    <input className=\"mb-4\" name=\"email\" onChange={e => setEmail(e.target.value)} value={email} />\n    <Button\n      disabled={!isValidEmail(email)}\n      action\n      wide\n      onClick={() => onStartClick({ email })}\n    >\n      Let's get started &nbsp;<i className=\"small fas fa-external-link-alt\" />\n    </Button>\n  </React.Fragment>\n);\n\nexport default compose(\n  withState('email', 'setEmail', ''),\n)(Start);\n","import _ from 'lodash';\n\nconst QuestionEnum = Object.freeze({\n  rnvWAsfgW4RE: 'NAME',\n  vnvh1p0BHOjH: 'ROLE',\n  OujNkQUEGcxq: 'ENNEAGRAM',\n  lholtbCkm542: 'MYERS',\n  yswVsZJF3OLY: 'GITHUB',\n  LhOaJ52zKTqh: 'FUN_FACTS',\n  ajOTXg81Ou9e: 'STRENGTHS',\n  DmaCcx7NbRCK: 'GROWTH_AREAS',\n  zCF8EtswjLgK: 'ETC',\n  G2ClpKHU5MXL: 'VALUES',\n  imO8dFX8WJYj: 'GOALS',\n  ek8ABqe04iZA: 'INSTAGRAM',\n  ENKedq86vJws: 'EMOJI',\n  RJIuGCogR1O2: 'HOGWARTS',\n  WkylEIcfBWYz: 'SKILLS',\n  Etbsq0aUxmUq: 'PET',\n});\n\nconst parseAnswer = (answer) => {\n  let answerVal = '';\n  if (answer.type === 'text') {\n    answerVal = answer.text;\n  } else if (answer.type === 'choice') {\n    answerVal = answer.choice.label;\n  } else if (!answerVal || typeof answerVal !== 'string') {\n    console.warn('unknown answer format:');\n    console.log(answer);\n  }\n  return answerVal;\n};\n\nexport default (props) => {\n  const { typeformResponse } = props;\n  const obj = JSON.parse(typeformResponse);\n  if (!_.get(obj, 'response.0')) {\n    return null;\n  }\n  if (_.get(obj, 'response.1')) {\n    console.warn('multiple responses for email!');\n    console.log(obj.response);\n  }\n  const data = {\n    response: obj.response[0],\n    survey: obj.survey,\n  };\n\n  const answers = data.response.answers.reduce((acc, answer) => {\n    const key = QuestionEnum[answer.field.id];\n    if (!key) {\n      console.warn('answer missing q id:');\n      console.log(answer);\n      return acc;\n    }\n    const answerValue = parseAnswer(answer);\n    if (!answerValue) return acc;\n    return {\n      ...acc,\n      [key]: answerValue,\n    };\n  }, {});\n\n  console.log(answers);\n  return answers;\n};\n","import _ from 'lodash';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport {\n  compose, branch, withState, withHandlers,\n} from 'recompose';\nimport { graphql } from 'react-apollo';\nimport Block from 'components/Block';\nimport Button from 'components/Button';\nimport gql from 'graphql-tag';\n// import data from './testdata';\nimport styles from './card-styles.module.scss';\nimport { SURVEY_URL } from './FormCapture';\nimport cleanData from './parse-data';\n\nconst GET_TYPEFORM_RESPONSE = gql`\n  query($email: String!) {\n    typeformResponse(email: $email)\n  }\n`;\n\nconst Facts = ({ data }) => (\n  <div className={cx(styles.facts)}>\n    { data.HOGWARTS && (\n      <div className={cx(styles.hogwarts, styles.fact)}>\n        <label>Hogwarts House</label>\n        <p className={cx(styles.house)}>{data.HOGWARTS}</p>\n      </div>\n    )}\n    { data.MYERS && (\n      <div className={cx(styles.myers, styles.fact)}>\n        <label>Myers-Briggs</label>\n        <p className={cx(styles.house)}>{data.MYERS}</p>\n      </div>\n    )}\n    { data.ENNEAGRAM && (\n      <div className={cx(styles.enneagram, styles.fact)}>\n        <label>Enneagram</label>\n        <p className={cx(styles.house)}>{data.ENNEAGRAM}</p>\n      </div>\n    )}\n    { data.EMOJI && (\n      <div className={cx(styles.emoji, styles.fact)}>\n        <label>Favorite Emoji</label>\n        <p className={cx(styles.house)}>{data.EMOJI}</p>\n      </div>\n    )}\n  </div>\n);\n\nconst Answers = ({ data }) => (\n  <div className={cx(styles.answers)}>\n    { data.VALUES && (\n    <div className={cx(styles.strengths, styles.answer)}>\n      <label>Values</label>\n      <p className={cx(styles.house)}>{data.VALUES}</p>\n    </div>\n    )}\n\n    { data.STRENGTHS && (\n    <div className={cx(styles.strengths, styles.answer)}>\n      <label>Strengths</label>\n      <p className={cx(styles.house)}>{data.STRENGTHS}</p>\n    </div>\n    )}\n\n    { data.GROWTH_AREAS && (\n    <div className={cx(styles.weaknesses, styles.answer)}>\n      <label>Growth areas</label>\n      <p className={cx(styles.house)}>{data.GROWTH_AREAS}</p>\n    </div>\n    )}\n\n    { data.GOALS && (\n    <div className={cx(styles.goals, styles.answer)}>\n      <label>Goals</label>\n      <p className={cx(styles.house)}>{data.GOALS}</p>\n    </div>\n    )}\n  </div>\n);\n\nconst Result = ({ loading, userEmail, ...props }) => {\n  if (loading) return <div>Loading</div>;\n  const data = cleanData(props);\n  if (!data) return <div>Not found :(</div>;\n  // console.log(d);\n  return (\n    <React.Fragment>\n      <h1>Your card</h1>\n\n      <div className={cx(styles.card)}>\n        <div className={cx(styles.cardContainer)}>\n          <div className={cx(styles.header)}>\n            <div className={cx(styles.upper)}>\n              <div className={cx(styles.image)} />\n              <Facts data={data} />\n            </div>\n            <div className={cx(styles.id)}>\n              <h2 className={cx(styles.name)}>{data.NAME}</h2>\n              <small>\n                { data.INSTAGRAM && <span><a rel=\"noopener noreferrer\" target=\"_blank\" href={`/instagram/${data.INSTAGRAM}`}>insta</a></span> }\n                { data.GITHUB && <span><a rel=\"noopener noreferrer\" target=\"_blank\" href={`/github/${data.GITHUB}`}>git</a></span> }\n              </small>\n            </div>\n          </div>\n          <div className={cx(styles.skills)}>\n            <div className={cx(styles.skill)}>\n              <span className={cx(styles.emoji)} role=\"img\">🔥</span>\n              <p className={cx(styles.skilltxt)}>{data.ROLE}</p>\n            </div>\n            <div className={cx(styles.skill)}>\n              <span className={cx(styles.emoji)} role=\"img\">🔥</span>\n              <p className={cx(styles.skilltxt)}>??</p>\n            </div>\n            <div className={cx(styles.skill)}>\n              <span className={cx(styles.emoji)} role=\"img\">🔥</span>\n              <p className={cx(styles.skilltxt)}>??</p>\n            </div>\n          </div>\n\n          <div className={cx(styles.chunk)}>\n            <Answers data={data} />\n          </div>\n        </div>\n      </div>\n\n      <p className=\"mt-4 mb-1\">Copy html for your card here:</p>\n      <textarea\n        className=\"w-100\"\n        style={{ fontSize: '12px' }}\n        readOnly\n        value={'<div class=\"card-styles_card__joViG\"><div class=\"card-styles_cardContainer__OD6hU\"><div class=\"\"><div class=\"card-styles_upper__NMNoo\"><div class=\"card-styles_image__3SMVA\"></div><div class=\"card-styles_facts__2f1eA\"><div class=\"card-styles_fact__cYD4l\"><label>Hogwarts House</label><p class=\"\">choice 1</p></div><div class=\"card-styles_fact__cYD4l\"><label>Myers-Briggs</label><p class=\"\">ENFP</p></div><div class=\"card-styles_fact__cYD4l\"><label>Enneagram</label><p class=\"\">3. Achiever</p></div><div class=\"card-styles_emoji__39g15 card-styles_fact__cYD4l\"><label>Favorite Emoji</label><p class=\"\">🙃</p></div></div></div><div class=\"card-styles_id__29SHW\"><h2 class=\"card-styles_name__3i-ga overflow-ellipsis\">Emmy Armintrout</h2><small><span><a href=\"/instagram/emmyarm\">insta</a></span><span><a href=\"/github/emmya\">git</a></span></small></div></div><div class=\"card-styles_skills__3S6f-\"><div class=\"card-styles_skill__2nH-D\"><span class=\"card-styles_emoji__39g15\" role=\"img\">🔥</span><p class=\"\">Engineering</p></div><div class=\"card-styles_skill__2nH-D\"><span class=\"card-styles_emoji__39g15\" role=\"img\">🔥</span><p class=\"\">??</p></div><div class=\"card-styles_skill__2nH-D\"><span class=\"card-styles_emoji__39g15\" role=\"img\">🔥</span><p class=\"\">??</p></div></div><div class=\"card-styles_chunk__3gW8i d-flex\"><div class=\"\"><div class=\"card-styles_answer__3XrTH\"><label>Values</label><p class=\"\">SWEEET</p></div><div class=\"card-styles_answer__3XrTH\"><label>Strengths</label><p class=\"\">Fun, Cool, Sick</p></div><div class=\"card-styles_answer__3XrTH\"><label>Growth areas</label><p class=\"\">Lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem.  ipsum lorem</p></div><div class=\"card-styles_answer__3XrTH\"><label>Goals</label><p class=\"\">Id like to  ipsum lorem  ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem</p></div></div></div></div></div>'}\n      />\n    </React.Fragment>\n  );\n};\nexport default compose(\n  graphql(GET_TYPEFORM_RESPONSE, {\n    options: ({ userEmail }) => {\n      console.log(userEmail);\n      return {\n        variables: {\n          email: 'emmy 1@resource.io',\n        },\n      };\n    },\n    props: ({ data }) => {\n      console.log('..');\n      return data;\n    },\n  }),\n)(Result);\n","import _ from 'lodash';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport {\n  compose, withState, withHandlers,\n} from 'recompose';\nimport Block from 'components/Block';\nimport Button from 'components/Button';\nimport Start from './Start';\nimport Result from './Result';\n\nexport const SURVEY_URL = 'https://marcuslowe.typeform.com/to/kDQzo7';\n\nconst StageEnum = Object.freeze({\n  START: 'START',\n  AWAITING_RESPONSE: 'AWAITING_RESPONSE',\n  SUCCESS: 'SUCCESS',\n  FAIL: 'FAIL',\n});\n\nconst Awaiting = ({ onAwaitCancel, onAwaitContinue, onStartClick }) => (\n  <React.Fragment>\n    <p><i className=\"fas fa-circle-notch fa-spin text-muted\" /> Waiting on questionnaire...</p>\n\n    <p>Be sure to finish the questionnaire before continuing. Need to start over?\n      <a style={{ cursor: 'pointer' }} onClick={onStartClick}> Click here</a>\n    </p>\n    <div className={cx('d-flex')}>\n      <Button link onClick={onAwaitCancel}>Cancel</Button>\n      &nbsp;\n      <Button action onClick={onAwaitContinue}>I'm done</Button>\n    </div>\n  </React.Fragment>\n);\n\nconst FormCapture = ({ stage, ...props }) => {\n  let comp;\n  if (stage === StageEnum.START) {\n    comp = <Start {...props} />;\n  }\n\n  if (stage === StageEnum.AWAITING_RESPONSE) {\n    if (!props.userEmail) {\n      props.setStage(StageEnum.START);\n    }\n    comp = <Awaiting {...props} />;\n  }\n\n  if (stage === StageEnum.SUCCESS) {\n    if (!props.userEmail) {\n      props.setStage(StageEnum.START);\n    }\n    comp = <Result {...props} />;\n  }\n\n  return (\n    <Block style={{ minHeight: '430px' }}>\n      {comp}\n    </Block>\n  );\n};\n\nexport default compose(\n  withState('stage', 'setStage', StageEnum.START),\n  withState('userEmail', 'setUserEmail', ''),\n  withHandlers({\n    onStartClick: props => ({ email: newEmail }) => {\n      const {\n        setStage,\n        setUserEmail,\n        userEmail,\n      } = props;\n      const email = newEmail || userEmail;\n      if (!email) {\n        setStage(StageEnum.START);\n      } else {\n        window.open(`${SURVEY_URL}?source=site&email=${email}`);\n        setUserEmail(email);\n        setStage(StageEnum.AWAITING_RESPONSE);\n      }\n    },\n    onAwaitCancel: props => () => {\n      const {\n        setStage,\n      } = props;\n      setStage(StageEnum.START);\n    },\n    onAwaitContinue: props => () => {\n      const {\n        setStage,\n      } = props;\n      setStage(StageEnum.SUCCESS);\n    },\n  }),\n)(FormCapture);\n","import React from 'react';\nimport { compose } from 'recompose';\nimport { Redirect, Route, Switch } from 'react-router';\n// import Create1 from './Create1';\nimport FormCapture from './FormCapture';\n\n\nconst Page = ({ templatesEnabled }) => (\n  <Switch>\n    <Route exact path=\"/create\">\n      <Redirect to=\"/create/start\" />\n    </Route>\n    <Route exact path=\"/create/start\" component={FormCapture} />\n    <Route exact path=\"/create/finish\" component={FormCapture} />\n  </Switch>\n);\n\nexport default Page;\n","import React from 'react';\nimport { ApolloConsumer } from 'react-apollo';\n\nimport * as routes from 'constants/routes';\nimport history from 'constants/history';\n\nconst SignOutButton = () => (\n  <ApolloConsumer>\n    {client => (\n      <button type=\"button\" onClick={() => signOut(client)}>\n        <i className=\"fas fa-sign-out-alt\" />\n      </button>\n    )}\n  </ApolloConsumer>\n);\n\nconst signOut = (client) => {\n  localStorage.removeItem('token');\n  client.resetStore();\n  history.push(routes.SIGN_IN);\n};\n\nexport { signOut };\n\nexport default SignOutButton;\n","import * as routes from 'constants/routes';\n\nexport const LinkEnum = Object.freeze({\n  LANDING: {\n    to: routes.LANDING,\n    title: 'Home',\n  },\n  ACCOUNT: {\n    to: routes.ACCOUNT,\n    title: '',\n    icon: 'fas fa-cog',\n  },\n  ADMIN: {\n    to: routes.ADMIN,\n    title: 'Admin',\n  },\n  SIGN_UP: {\n    to: routes.SIGN_UP,\n    title: 'Sign up',\n  },\n  SIGN_IN: {\n    to: routes.SIGN_IN,\n    title: 'Sign in',\n  },\n  CREATE: {\n    to: routes.CREATE,\n    title: 'Create your card',\n  },\n  LOG_OUT: {\n    kind: 'LOG_OUT',\n  },\n});\n\nexport const defaultLinks = ({ isLoggedIn, isAdmin, ..._props }) => (\n  !isLoggedIn ? {\n    groupOne: [],\n    groupTwo: [{\n      ...LinkEnum.CREATE,\n      kind: 'button',\n      styleNames: [],\n      attrs: {\n        action: true,\n        small: true,\n      },\n    },\n    {\n      ...LinkEnum.SIGN_IN,\n      kind: 'button',\n      styleNames: [],\n      attrs: {\n        link: true,\n        small: true,\n      },\n    }],\n  } : {\n    groupOne: [{\n      ...LinkEnum.LANDING,\n      styleNames: [],\n    }],\n    groupTwo: [{\n      ...LinkEnum.ACCOUNT,\n    },\n    ...isAdmin ? [{\n      ...LinkEnum.ADMIN,\n    }] : [],\n    {\n      ...LinkEnum.LOG_OUT,\n    }],\n  });\n","import _ from 'lodash';\nimport React from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport * as routes from 'constants/routes';\nimport SignOutButton from 'components/SignOutButton';\nimport Button from 'components/Button';\nimport cx from 'classnames';\nimport { withRouter } from 'react-router';\nimport styles from './layout.module.scss';\nimport { defaultLinks } from './links.js';\n\nconst NavigationLink = (props) => {\n  const {\n    title,\n    to,\n    hideMobileMenu,\n    icon,\n    styleNames = [],\n    attrs = {},\n    className: propsClassName,\n    history,\n    kind,\n  } = props;\n  const keyname = to.replace(/\\//g, '');\n  const className = cx(\n    styles.navLink,\n    styles[keyname],\n    `test-${keyname}`,\n    propsClassName,\n    ...styleNames.map(name => styles[name]),\n  );\n  const onClick = (e) => {\n    e.preventDefault();\n    history.push(to);\n    if (hideMobileMenu) {\n      hideMobileMenu();\n    }\n  };\n  const content = (\n    <React.Fragment>\n      { icon && <span className={styles.iconWrap}><i className={`fa-fw ${icon}`} /></span> }\n      <span className={styles.linkText}>{title}</span>\n    </React.Fragment>\n  );\n\n  if (kind === 'button') {\n    return (\n      <Button {...{ onClick, className, ...attrs }}>\n        {content}\n      </Button>\n    );\n  }\n  return (\n    <NavLink exact={to === '/'} {...{ to, className, onClick }} activeClassName={styles.active}>\n      {content}\n    </NavLink>\n  );\n};\n\nconst Navigation = ({ ...props }) => {\n  const isLoggedIn = !!_.get(props, 'session.me');\n  const isAdmin = _.get(props, 'session.me.role') === 'ADMIN';\n  const links = defaultLinks({ ...props, isLoggedIn, isAdmin });\n  return (\n    <React.Fragment>\n      {_.map(links, linkGroup => (\n        <div className={styles.linkGroup}>\n          {linkGroup.map(link => (link.kind === 'LOG_OUT'\n            ? <SignOutButton />\n            : <NavigationLink {...props} {...link} />))}\n        </div>\n      ))}\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(Navigation);\n","import _ from 'lodash';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { withRouter } from 'react-router';\n// import { compose, branch } from 'recompose';\nimport styles from './layout.module.scss';\n\nexport default ({ children, ...props }) => (\n  <React.Fragment>\n    <header className={cx(styles.header)}>\n      <div className={cx(styles.headerContainer, 'container')}>\n        {children}\n      </div>\n    </header>\n    <div className={cx(styles.headerSpacer)} />\n  </React.Fragment>\n)","import _ from 'lodash';\nimport React from 'react';\nimport cx from 'classnames';\nimport { compose, withState } from 'recompose';\nimport Navigation from './Navigation';\nimport Header from './Header';\nimport Sidebar from './Sidebar';\nimport styles from './layout.module.scss';\n\nconst pathName = ({ location }) => (_.get(location, 'pathname') || '').replace('/', '');\nconst pagePadding = ({ pageName }) => ({ padding: '40px 0' });\n\nexport const SidebarLayout = compose(\n  withState('navIsCollapsed', 'setNavCollapsed', false),\n)(({ children, ...props }) => {\n  const {\n    currentUser,\n    navIsCollapsed,\n    setNavCollapsed,\n  } = props;\n  const pageName = pathName(props);\n  return (\n    <React.Fragment>\n      <Sidebar {...{ navIsCollapsed, setNavCollapsed }}>\n        <Navigation {...props} />\n      </Sidebar>\n      <div className={cx(styles.page, styles[`${pageName}Page`], {\n        [styles.navIsCollapsed]: navIsCollapsed,\n        'nav-collapsed': navIsCollapsed,\n      })}\n      >\n        {children}\n      </div>\n    </React.Fragment>\n  );\n});\n\nconst DefaultLayout = ({ children, ...props }) => {\n  const pageName = pathName(props);\n  return (\n    <React.Fragment>\n      <Header>\n        <Navigation {...props} />\n      </Header>\n      <div className={cx(styles.page, styles[`${pathName(props)}Page`])}>\n        <div className={cx(styles.page, 'container')} style={pagePadding({ pageName })}>\n          {children}\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default DefaultLayout;\n","import _ from 'lodash';\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport * as routes from 'constants/routes';\nimport AppLayout from './Layout/Layout';\n\nconst renderPage = ({ Component, Layout = AppLayout, ...props }) => (\n  <Layout {...props}>\n    <Component {...props} />\n  </Layout>\n)\n\nexport const AdminRoute = ({ component: Component, ...rest }) => {\n  function render(props) {\n    if (_.get(rest, 'session.me.role') === 'ADMIN') {\n      return renderPage({ Component, ...rest });\n    }\n    return <Redirect to={routes.LANDING} />;\n  }\n\n  return (\n    <Route\n      {...rest}\n      render={render}\n    />\n  );\n};\n\nexport const PrivateRoute = ({ component: Component, ...rest }) => {\n  function render(props) {\n    if (_.get(rest, 'session.me')) {\n      return renderPage({ Component, ...rest });\n    }\n    return <Redirect to={routes.SIGN_IN} />;\n  }\n\n  return (\n    <Route\n      {...rest}\n      render={render}\n    />\n  );\n};\n\nexport const PublicRoute = ({ component: Component, ...rest }) => {\n  function render(props) {\n    if (_.get(rest, 'session.me')) {\n      return <Redirect to={routes.LANDING} />\n    }\n    return renderPage({ Component, ...rest });\n  }\n\n  return (\n    <Route\n      {...rest}\n      render={render}\n    />\n  );\n};","import React from 'react';\nimport { Router, Route } from 'react-router-dom';\n\nimport * as routes from 'constants/routes';\nimport history from 'constants/history';\nimport LandingPage from './Landing';\nimport SignUpPage from './SignUp';\nimport SignInPage from './SignIn';\nimport AccountPage from './Account';\nimport AdminPage from './Admin';\nimport CreateCard from './Create';\nimport withSession from './_session/withSession';\n\n\nimport { AdminRoute, PrivateRoute, PublicRoute } from './Route';\n\nconst App = props => (\n  <Router history={history}>\n    <React.Fragment>\n      <PrivateRoute\n        exact\n        path={routes.LANDING}\n        component={LandingPage}\n        {...props}\n      />\n      <PublicRoute\n        exact\n        path={routes.SIGN_UP}\n        component={SignUpPage}\n        {...props}\n      />\n      <PublicRoute\n        path=\"/create\"\n        component={CreateCard}\n        {...props}\n      />\n      <PublicRoute\n        exact\n        path={routes.SIGN_IN}\n        component={SignInPage}\n        {...props}\n      />\n      <PrivateRoute\n        exact\n        path={routes.ACCOUNT}\n        component={AccountPage}\n        {...props}\n      />\n      <AdminRoute\n        exact\n        path={routes.ADMIN}\n        component={AdminPage}\n        {...props}\n      />\n    </React.Fragment>\n  </Router>\n);\n\nexport default withSession(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ApolloProvider } from 'react-apollo';\nimport { ApolloClient } from 'apollo-client';\nimport { getMainDefinition } from 'apollo-utilities';\nimport { ApolloLink, split } from 'apollo-link';\nimport { HttpLink } from 'apollo-link-http';\nimport { WebSocketLink } from 'apollo-link-ws';\nimport { onError } from 'apollo-link-error';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport 'styles/app.scss';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport App from 'app/Controller';\nimport { signOut } from 'components/SignOutButton';\n\n\nconst apiEndpoint = process.env.NODE_ENV === 'production'\n  ? 'teamagram1.herokuapp.com'\n  : 'localhost:8000/graphql';\n\nconst httpLink = new HttpLink({\n  uri: `http://${apiEndpoint}/graphql`,\n});\n\nconst wsLink = new WebSocketLink({\n  uri: `ws://${apiEndpoint}/graphql`,\n  options: {\n    reconnect: true,\n  },\n});\n\nconsole.log(`CLIENT connecting to graphql api http://${apiEndpoint}/graphql`);\n\nconst terminatingLink = split(\n  ({ query }) => {\n    const { kind, operation } = getMainDefinition(query);\n    return (\n      kind === 'OperationDefinition' && operation === 'subscription'\n    );\n  },\n  wsLink,\n  httpLink,\n);\n\nconst authLink = new ApolloLink((operation, forward) => {\n  operation.setContext(({ headers = {} }) => {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      headers = { ...headers, 'x-token': token };\n    }\n\n    return { headers };\n  });\n\n  return forward(operation);\n});\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (graphQLErrors) {\n    graphQLErrors.forEach(({ message, locations, path }) => {\n      console.log('GraphQL error', message);\n\n      if (message === 'UNAUTHENTICATED') {\n        signOut(client);\n      }\n    });\n  }\n\n  if (networkError) {\n    console.log('Network error', networkError);\n\n    if (networkError.statusCode === 401) {\n      signOut(client);\n    }\n  }\n});\n\nconst link = ApolloLink.from([authLink, errorLink, terminatingLink]);\n\nconst cache = new InMemoryCache();\n\nconst client = new ApolloClient({\n  link,\n  cache,\n});\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"card-styles_card__joViG\",\"cardContainer\":\"card-styles_cardContainer__OD6hU\",\"upper\":\"card-styles_upper__NMNoo\",\"image\":\"card-styles_image__3SMVA\",\"id\":\"card-styles_id__29SHW\",\"name\":\"card-styles_name__3i-ga\",\"skills\":\"card-styles_skills__3S6f-\",\"skill\":\"card-styles_skill__2nH-D\",\"emoji\":\"card-styles_emoji__39g15\",\"skilltxt\":\"card-styles_skilltxt__2531W\",\"chunk\":\"card-styles_chunk__3gW8i\",\"facts\":\"card-styles_facts__2f1eA\",\"fact\":\"card-styles_fact__cYD4l\",\"answer\":\"card-styles_answer__3XrTH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noWebkitAppearance\":\"button_noWebkitAppearance__3rzxq\",\"button\":\"button_button__1Ulv8\",\"disabled\":\"button_disabled__aWDzF\",\"inactive\":\"button_inactive__etae_\",\"active\":\"button_active__3bwJo\",\"loading\":\"button_loading__2rr51\",\"link\":\"button_link__j4kkv\",\"square\":\"button_square__2JryP\",\"block\":\"button_block__1STfE\",\"wide\":\"button_wide__2V4lp\",\"large\":\"button_large__3f-M7\",\"small\":\"button_small__1ic6B\",\"success\":\"button_success__C6xex\",\"primary\":\"button_primary__2F20e\",\"ghost\":\"button_ghost__3Utrv\",\"action\":\"button_action__3IXQ_\",\"danger\":\"button_danger__3gSjI\",\"white\":\"button_white__2QPpq\",\"whitePurple\":\"button_whitePurple__N-SUg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"block_block__3-vTN\"};"],"sourceRoot":""}