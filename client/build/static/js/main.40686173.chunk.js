(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,a,t){},127:function(e,a,t){"use strict";t.r(a);var n=t(5),r=t(0),l=t.n(r),s=t(63),c=t.n(s),o=t(14),i=t(62),m=t(86),u=t(6),p=t(75),d=t(76),E=t(68),_=t(140),f=(t(102),t(105),t(141)),v="/",b="/create",g=t(69),h=t.n(g)()(),N=t(8),O=t.n(N),y=t(1),j=t.n(y),C=t(70),w=t.n(C),S=function(e){var a=e.children,t=e.className,r=e.style,s=void 0===r?{}:r;return l.a.createElement("div",{className:j()(w.a.block,"bg-white","text-center","p-4",t),style:Object(n.a)({maxWidth:"720px",margin:"0 auto"},s)},a)},k=t(16),A=t(34),T=t(112),x=t(50),I=t.n(x),G=["wide","small","large","block","primary","secondary","success","info","warning","danger","default","white","action","link","square","active","inactive","loading","disabled","ghost"],R=function(e){var a=e.attrs,t=(e.block,e.children),r=e.className,s=(e.color,e.disabled),c=e.href,o=e.id,i=e.label,m=e.loading,u=e.onClick,p=(e.outline,e.size,e.style),d=e.styleName,E=e.to,_=e.type,f=(e.v2,s?{disabled:"disabled","aria-disabled":!0}:{}),v=[I.a.button].concat(Object(A.a)(G.map(function(a){return e[a]?I.a[a]:""})),[d?I.a[d]:"",r]),b=Object(n.a)({type:_,className:j()(v,{disabled:s,loading:m}),style:p,id:o},f,a),g=t||i;return E?l.a.createElement(T.a,Object.assign({},b,{to:E}),g):c?l.a.createElement("a",Object.assign({},b,{href:c}),g):l.a.createElement("button",Object.assign({},b,{onClick:u}),g)};R.defaultProps=Object(n.a)({attrs:{},block:!1,children:null,className:null,color:"default",disabled:!1,href:null,label:"Submit",loading:!1,onClick:function(){},outline:!1,size:null,style:{},styleName:"",type:"button",id:null,v2:!0},(G.reduce(function(e,a){return Object(n.a)({},e,Object(k.a)({},a,!1))}),{}));var U=R,D=t(10),H=t(23),M=t(11),W=t(24),P=t.n(W),L=function(){return l.a.createElement("div",{className:"text-center"},l.a.createElement("i",{role:"img",className:"text-muted fa fa-spin"},"\ud83d\ude42")," Loading...")},q=t(3),F=t.n(q),V=t(116);var z=Object(M.a)(Object(M.d)("email","setEmail",""))(function(e){var a,t=e.onStartClick,n=e.email,r=e.setEmail;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"\u2728 Create a card"),l.a.createElement("p",null,"You'll fill out a quick survey to create content for your card."),l.a.createElement("p",{className:"mb-1"},"First, enter your email:"),l.a.createElement("input",{className:"mb-4",name:"email",onChange:function(e){return r(e.target.value)},value:n}),l.a.createElement(U,{disabled:(a=n,!new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(a)),action:!0,wide:!0,onClick:function(){return t({email:n})}},"Let's get started \xa0\u27a1"))}),J=t(25),B=t.n(J),X=t(30),K=t(31),Y=t(32),$=t(36),Q=t(33),Z=t(35),ee=t(136),ae=function(e){var a=e.error;return l.a.createElement("div",null,l.a.createElement("small",null,a.message))};function te(){var e=Object(H.a)(["\n  mutation($username: String!, $email: String!, $password: String!) {\n    signUp(username: $username, email: $email, password: $password) {\n      token\n    }\n  }\n"]);return te=function(){return e},e}var ne=P()(te()),re={username:"",email:"",password:"",passwordConfirmation:""},le=function(e){function a(){var e,t;Object(K.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(t=Object($.a)(this,(e=Object(Q.a)(a)).call.apply(e,[this].concat(l)))).state=Object(n.a)({},re,{email:t.props.email||"",username:t.props.fullName||""}),t.onChange=function(e){var a=e.target,n=a.name,r=a.value;t.setState(Object(k.a)({},n,r))},t.onSubmit=function(e,a){a().then(function(){var e=Object(X.a)(B.a.mark(function e(a){var r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.data,t.setState(Object(n.a)({},re)),localStorage.setItem("token",r.signUp.token),e.next=5,t.props.refetch();case 5:t.props.history.push(v);case 6:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()),e.preventDefault()},t}return Object(Z.a)(a,e),Object(Y.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.username,n=a.email,r=a.password,s=a.passwordConfirmation,c=r!==s||""===r||""===n||""===t;return l.a.createElement(o.Mutation,{mutation:ne,variables:{username:t,email:n,password:r}},function(a,o){o.data;var i=o.loading,m=o.error;return l.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t,a)}},l.a.createElement("input",{className:"w-100 mb-3",name:"username",value:t,onChange:e.onChange,type:"text",placeholder:"Full Name"}),l.a.createElement("input",{className:"w-100 mb-3",name:"email",value:n,onChange:e.onChange,type:"text",placeholder:"Email Address"}),l.a.createElement("input",{className:"w-100 mb-3",name:"password",value:r,onChange:e.onChange,type:"password",placeholder:"Password"}),l.a.createElement("input",{className:"w-100 mb-3",name:"passwordConfirmation",value:s,onChange:e.onChange,type:"password",placeholder:"Confirm Password"}),l.a.createElement(U,{type:"submit",disabled:c||i,action:!0,wide:!0,className:"mt-3"},e.props.cta||"Sign Up"),m&&l.a.createElement(ae,{error:m}))})}}]),a}(r.Component),se=function(){return l.a.createElement("p",null,"Don't have a baseball card yet? ",l.a.createElement(T.a,{to:b},"Create one"))},ce=Object(ee.a)(function(e){var a=e.history,t=e.refetch;return l.a.createElement("div",{className:j()("bg-white","text-center","p-4"),style:{maxWidth:"500px",margin:"0 auto"}},l.a.createElement("h1",null,l.a.createElement("span",{role:"img"},"\u2728")),l.a.createElement(le,{history:a,refetch:t}))}),oe=function(e){var a=e.userEmail,t=e.userName,n=Object(D.a)(e,["userEmail","userName"]);console.log(n);var r=n.history,s=n.refetch;return r&&s||console.log("ERROR"),l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Choose a password to save your card"),l.a.createElement(le,Object.assign({history:r,refetch:s},{email:a,fullName:t,cta:"Save card"})))},ie=t(137),me=t(60),ue=t(129),pe=Object.freeze({START:"start",AWAITING_RESPONSE:"waiting",SUCCESS:"finish",SIGN_UP_TO_SAVE:"save"}),de=function(){return l.a.createElement(ie.a,null,l.a.createElement(me.a,{exact:!0,path:"/create/:stage",component:_e}),l.a.createElement(me.a,{exact:!0,path:"/create"},l.a.createElement(ue.a,{to:"/create/".concat(pe.START)})))},Ee=function(e){var a=e.onAwaitCancel,t=e.onAwaitContinue,n=e.onStartClick;return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-circle-notch fa-spin text-muted"})," Waiting on questionnaire..."),l.a.createElement("p",null,"Be sure to finish the questionnaire before continuing. Need to start over?",l.a.createElement("a",{style:{cursor:"pointer"},onClick:n}," Click here")),l.a.createElement("div",{className:j()("d-flex")},l.a.createElement(U,{link:!0,onClick:a},"Cancel"),"\xa0",l.a.createElement(U,{action:!0,onClick:t},"I'm done")))},_e=Object(M.a)(V.a,Object(M.c)(function(e){var a=e.match,t=e.history;return{stage:O.a.get(a,"params.stage"),setStage:function(e){return t.push("/create/".concat(e))}}}),Object(M.d)("userEmail","setUserEmail",""),Object(M.d)("userName","setUserName",""),Object(M.b)({onStartClick:function(e){return function(a){var t=a.email,n=e.setStage,r=e.setUserEmail,l=e.userEmail,s=t||l;s?(window.open("".concat("https://marcuslowe.typeform.com/to/kDQzo7","?source=site&email=").concat(s)),r(s),n(pe.AWAITING_RESPONSE)):n(pe.START)}},onAwaitCancel:function(e){return function(){(0,e.setStage)(pe.START)}},onAwaitContinue:function(e){return function(){(0,e.setStage)(pe.SUCCESS)}}}))(function(e){var a=e.stage,t=Object(D.a)(e,["stage"]),n=l.a.createElement("p",null,"\ud83e\uddd0");return a===pe.START&&(n=l.a.createElement(z,t)),a===pe.AWAITING_RESPONSE&&(n=l.a.createElement(Ee,t)),a===pe.SUCCESS&&(n=l.a.createElement(we,t)),a===pe.SIGN_UP_TO_SAVE&&(n=l.a.createElement(oe,t)),l.a.createElement(S,{style:{minHeight:"430px"}},n)}),fe=Object.freeze({rnvWAsfgW4RE:"NAME",vnvh1p0BHOjH:"ROLE",OujNkQUEGcxq:"ENNEAGRAM",lholtbCkm542:"MYERS",yswVsZJF3OLY:"GITHUB",LhOaJ52zKTqh:"FUN_FACTS",ajOTXg81Ou9e:"STRENGTHS",DmaCcx7NbRCK:"GROWTH_AREAS",zCF8EtswjLgK:"ETC",G2ClpKHU5MXL:"VALUES",imO8dFX8WJYj:"GOALS",ek8ABqe04iZA:"INSTAGRAM",ENKedq86vJws:"EMOJI",RJIuGCogR1O2:"HOGWARTS",WkylEIcfBWYz:"SKILLS",Etbsq0aUxmUq:"PET",IZJcMN49vJRg:"PHOTO",BvvQsh2qYBJ8:"FAVORITE_BOOK",KqnZOPCv0QBS:"??",kZPO5ihsEVtI:"NEXT_VACATION",G6n5oMnKrOzT:"FAVORITE_TV_SHOW"}),ve=function(e){return e.answers.reduce(function(e,a){var t=fe[a.field.id];if(!t)return console.warn("answer missing q id:"),console.log(a),e;var r=function(e){var a="";return"text"===e.type?a=e.text:"choice"===e.type?a=e.choice.label:"file_url"===e.type?a=e.file_url:a&&"string"===typeof a||(console.warn("unknown answer format:"),console.log(e)),a}(a);return r?Object(n.a)({},e,Object(k.a)({},t,r)):e},{})},be=function(e){var a=e.data;return l.a.createElement("div",{className:j()(F.a.facts)},a.HOGWARTS&&l.a.createElement("div",{className:j()(F.a.hogwarts,F.a.fact)},l.a.createElement("label",null,"Hogwarts House"),l.a.createElement("p",{className:j()(F.a.house)},a.HOGWARTS)),a.MYERS&&l.a.createElement("div",{className:j()(F.a.myers,F.a.fact)},l.a.createElement("label",null,"Myers-Briggs"),l.a.createElement("p",{className:j()(F.a.house)},a.MYERS)),a.ENNEAGRAM&&l.a.createElement("div",{className:j()(F.a.enneagram,F.a.fact)},l.a.createElement("label",null,"Enneagram"),l.a.createElement("p",{className:j()(F.a.house)},a.ENNEAGRAM)),a.EMOJI&&l.a.createElement("div",{className:j()(F.a.emoji,F.a.fact)},l.a.createElement("label",null,"Favorite Emoji"),l.a.createElement("p",{className:j()(F.a.house)},a.EMOJI)))},ge=function(e){var a=e.data;return l.a.createElement("div",{className:j()(F.a.answers)},a.VALUES&&l.a.createElement("div",{className:j()(F.a.strengths,F.a.answer)},l.a.createElement("label",null,"Values"),l.a.createElement("p",{className:j()(F.a.house)},a.VALUES)),a.STRENGTHS&&l.a.createElement("div",{className:j()(F.a.strengths,F.a.answer)},l.a.createElement("label",null,"Strengths"),l.a.createElement("p",{className:j()(F.a.house)},a.STRENGTHS)),a.GROWTH_AREAS&&l.a.createElement("div",{className:j()(F.a.weaknesses,F.a.answer)},l.a.createElement("label",null,"Growth areas"),l.a.createElement("p",{className:j()(F.a.house)},a.GROWTH_AREAS)),a.GOALS&&l.a.createElement("div",{className:j()(F.a.goals,F.a.answer)},l.a.createElement("label",null,"Goals"),l.a.createElement("p",{className:j()(F.a.house)},a.GOALS)))},he=function(e){var a=e.data;return l.a.createElement("small",null,a.INSTAGRAM&&l.a.createElement("span",null,l.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/instagram/".concat(a.INSTAGRAM)},"insta")),a.GITHUB&&l.a.createElement("span",null,l.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/github/".concat(a.GITHUB)},"git")))},Ne=function(e){var a=e.data;return l.a.createElement("div",{className:j()(F.a.skills)},l.a.createElement("div",{className:j()(F.a.skill)},l.a.createElement("span",{className:j()(F.a.emoji),role:"img"},"\ud83d\udd25"),l.a.createElement("p",{className:j()(F.a.skilltxt)},a.ROLE)),l.a.createElement("div",{className:j()(F.a.skill)},l.a.createElement("span",{className:j()(F.a.emoji),role:"img"},"\ud83d\udc36"),l.a.createElement("p",{className:j()(F.a.skilltxt)},"\u2764\ufe0f ",a.PET)),l.a.createElement("div",{className:j()(F.a.skill)},l.a.createElement("span",{className:j()(F.a.emoji),role:"img"},"\ud83c\udfdd"),l.a.createElement("p",{className:j()(F.a.skilltxt)},a.NEXT_VACATION)))},Oe=function(e){var a=e.data;return l.a.createElement("div",{className:j()(F.a.card)},l.a.createElement("div",{className:j()(F.a.cardContainer)},l.a.createElement("div",{className:j()(F.a.header)},l.a.createElement("div",{className:j()(F.a.upper)},l.a.createElement("div",{className:j()(F.a.image),style:{backgroundImage:"url(".concat(a.PHOTO,")")}},"\ud83d\ude42"),l.a.createElement(be,{data:a})),l.a.createElement("div",{className:j()(F.a.id)},l.a.createElement("h2",{className:j()(F.a.name)},a.NAME),l.a.createElement(he,{data:a}))),l.a.createElement(Ne,{data:a}),l.a.createElement("div",{className:j()(F.a.chunk)},l.a.createElement(ge,{data:a}))))},ye=function(e){var a=e.data;return l.a.createElement("div",{className:j()(F.a.card,F.a.miniCard)},l.a.createElement("div",{className:j()(F.a.cardContainer)},l.a.createElement("div",{className:j()(F.a.miniHeader)},l.a.createElement("div",{className:j()(F.a.image)}),l.a.createElement("h2",{className:j()(F.a.name)},a.NAME)),l.a.createElement(Ne,{data:a})))};function je(){var e=Object(H.a)(["\n  query($email: String!) {\n    typeformResponse(email: $email)\n  }\n"]);return je=function(){return e},e}var Ce=P()(je()),we=Object(M.a)(Object(o.graphql)(Ce,{options:function(e){var a=e.userEmail;return console.log(a),{variables:{email:a}}},props:function(e){var a=e.data;return console.log(".."),a}}))(function(e){var a=e.loading,t=(e.userEmail,e.setStage),n=e.setUserName,r=Object(D.a)(e,["loading","userEmail","setStage","setUserName"]);if(a)return l.a.createElement(L,null);var s=function(e){var a=e.typeformResponse,t=a;if("string"===typeof t&&(t=JSON.parse(a)),!O.a.get(t,"response.0"))return null;O.a.get(t,"response.1")&&(console.warn("multiple responses for email!"),console.log(t.response));var n={response:t.response[0],survey:t.survey},r=ve(n.response);return console.log(r),r}(r);return s?(n&&n(s.NAME),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Your card"),l.a.createElement(Oe,{data:s}),t&&l.a.createElement(U,{onClick:function(){return t(pe.SIGN_UP_TO_SAVE)}},"Save your card"),l.a.createElement("p",{className:"mt-4 mb-1"},"Copy html for your card here:"),l.a.createElement("textarea",{className:"w-100",style:{fontSize:"12px"},readOnly:!0,value:'<div class="card-styles_card__joViG"><div class="card-styles_cardContainer__OD6hU"><div class=""><div class="card-styles_upper__NMNoo"><div class="card-styles_image__3SMVA"></div><div class="card-styles_facts__2f1eA"><div class="card-styles_fact__cYD4l"><label>Hogwarts House</label><p class="">choice 1</p></div><div class="card-styles_fact__cYD4l"><label>Myers-Briggs</label><p class="">ENFP</p></div><div class="card-styles_fact__cYD4l"><label>Enneagram</label><p class="">3. Achiever</p></div><div class="card-styles_emoji__39g15 card-styles_fact__cYD4l"><label>Favorite Emoji</label><p class="">\ud83d\ude43</p></div></div></div><div class="card-styles_id__29SHW"><h2 class="card-styles_name__3i-ga overflow-ellipsis">Emmy Armintrout</h2><small><span><a href="/instagram/emmyarm">insta</a></span><span><a href="/github/emmya">git</a></span></small></div></div><div class="card-styles_skills__3S6f-"><div class="card-styles_skill__2nH-D"><span class="card-styles_emoji__39g15" role="img">\ud83d\udd25</span><p class="">Engineering</p></div><div class="card-styles_skill__2nH-D"><span class="card-styles_emoji__39g15" role="img">\ud83d\udd25</span><p class="">??</p></div><div class="card-styles_skill__2nH-D"><span class="card-styles_emoji__39g15" role="img">\ud83d\udd25</span><p class="">??</p></div></div><div class="card-styles_chunk__3gW8i d-flex"><div class=""><div class="card-styles_answer__3XrTH"><label>Values</label><p class="">SWEEET</p></div><div class="card-styles_answer__3XrTH"><label>Strengths</label><p class="">Fun, Cool, Sick</p></div><div class="card-styles_answer__3XrTH"><label>Growth areas</label><p class="">Lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem.  ipsum lorem</p></div><div class="card-styles_answer__3XrTH"><label>Goals</label><p class="">Id like to  ipsum lorem  ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem</p></div></div></div></div></div>'}))):l.a.createElement("div",null,"Not found :(")}),Se=function(e){var a=e.session;return l.a.createElement(S,null,l.a.createElement(we,{userEmail:a.me.email}),l.a.createElement(U,{className:"mt-4",action:!0,to:"/team/".concat(a.me.email.split("@")[1])},"View team cards"))};function ke(){var e=Object(H.a)(["\n  mutation($login: String!, $password: String!) {\n    signIn(login: $login, password: $password) {\n      token\n    }\n  }\n"]);return ke=function(){return e},e}var Ae=P()(ke()),Te={login:"",password:""},xe=function(e){function a(){var e,t;Object(K.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(t=Object($.a)(this,(e=Object(Q.a)(a)).call.apply(e,[this].concat(l)))).state=Object(n.a)({},Te),t.onChange=function(e){var a=e.target,n=a.name,r=a.value;t.setState(Object(k.a)({},n,r))},t.onSubmit=function(e,a){a().then(function(){var e=Object(X.a)(B.a.mark(function e(a){var r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.data,t.setState(Object(n.a)({},Te)),localStorage.setItem("token",r.signIn.token),e.next=5,t.props.refetch();case 5:t.props.history.push(v);case 6:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()),e.preventDefault()},t}return Object(Z.a)(a,e),Object(Y.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.login,n=a.password,r=""===n||""===t;return l.a.createElement(o.Mutation,{mutation:Ae,variables:{login:t,password:n}},function(a,s){s.data;var c=s.loading,o=s.error;return l.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t,a)}},l.a.createElement("input",{className:"w-100 mb-3",name:"login",value:t,onChange:e.onChange,type:"text",placeholder:"Email or Username"}),l.a.createElement("input",{className:"w-100 mb-3",name:"password",value:n,onChange:e.onChange,type:"password",placeholder:"Password"}),l.a.createElement(U,{className:"mb-3",primary:!0,block:!0,disabled:r||c,type:"submit"},"Sign In"),o&&l.a.createElement(ae,{error:o}))})}}]),a}(r.Component),Ie=Object(ee.a)(function(e){var a=e.history,t=e.refetch;return l.a.createElement("div",{className:j()("bg-white","text-center","p-4"),style:{maxWidth:"500px",margin:"0 auto"}},l.a.createElement("h1",null,l.a.createElement("span",{role:"img"},"\ud83d\udc4b")),l.a.createElement(xe,{history:a,refetch:t}),l.a.createElement(se,null))}),Ge=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Account Page"))},Re=t(138);function Ue(){var e=Object(H.a)(["\n  {\n    me {\n      id\n      username\n      email\n      role\n    }\n  }\n"]);return Ue=function(){return e},e}var De=P()(Ue()),He=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Admin Page"))},Me=t(28),We=t(22),Pe=t.n(We),Le=function(e){function a(e){var t;return Object(K.a)(this,a),(t=Object($.a)(this,Object(Q.a)(a).call(this,e))).onConfirm=Object(X.a)(B.a.mark(function e(){var a;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.props.onConfirm)){e.next=4;break}return e.next=4,a();case 4:t.onClose();case 5:case"end":return e.stop()}},e,this)})),t.onClose=t.onClose.bind(Object(Me.a)(Object(Me.a)(t))),t.onConfirm=t.onConfirm.bind(Object(Me.a)(Object(Me.a)(t))),t.state={hidden:!0},t}return Object(Z.a)(a,e),Object(Y.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props,t=a.hidden,n=a.mountDelay;t||setTimeout(function(){e.setState({hidden:!1})},n)}},{key:"componentDidUpdate",value:function(e){var a=e.hidden,t=this.props.hidden;a!==t&&this.setState({hidden:t})}},{key:"onClose",value:function(e){e&&e.preventDefault&&e.preventDefault();var a=this.props,t=a.closeable,n=a.close,r=a.preClose;t&&(this.setState({hidden:!0}),n&&(r&&r(),setTimeout(function(){n()},300)))}},{key:"render",value:function(){var e,a=this.props,t=a.style,n=a.children,r=a.modal,s=a.className,c=a.size,o=a.closeable,i=a.title,m=a.confirmText,u=a.onConfirm,p=a.onCancel,d=a.closeText,E=a.confirmClassName,_=a.disabled,f=a.contentStyle,v=this.state.hidden;return l.a.createElement("span",{className:j()(Object(k.a)({},Pe.a.hidden,v))},r&&l.a.createElement("div",{className:j()(Pe.a.modal),onClick:this.onClose}),l.a.createElement("div",{className:j()(Pe.a.popup,Pe.a[c],s),style:t},o&&l.a.createElement("button",{type:"button",className:j()(Pe.a.closeX),onClick:this.onClose,onKeyDown:this.onClose,tabIndex:0},"\ud800\udd02"),i&&l.a.createElement("div",{className:j()(Pe.a.popupTitle)},l.a.createElement("h3",null,i)),l.a.createElement("div",{style:f,className:j()(Pe.a.popupContent,(e={},Object(k.a)(e,Pe.a.hasTitle,i),Object(k.a)(e,Pe.a.hasActions,u),e))},l.a.cloneElement(n,{close:this.onClose})),u&&l.a.createElement("div",{className:j()(Pe.a.popupActions)},l.a.createElement(U,{white:!0,className:j()("test-close-popup"),onClick:p||this.onClose},d),l.a.createElement(U,Object.assign({action:!0,type:"submit",className:j()(E),onClick:this.onConfirm},void 0!==_?{disabled:_}:{}),m))))}}]),a}(r.Component);Le.defaultProps={className:"",close:null,closeable:!0,hidden:!1,modal:!0,mountDelay:0,size:"md",style:{},contentStyle:{},title:null,onConfirm:null,onCancel:null,confirmText:"Confirm",confirmClassName:"",closeText:"Close",preClose:null,disabled:void 0};var qe=Le,Fe=t(73),Ve=t.n(Fe);function ze(){var e=Object(H.a)(["\n  query {\n    responses\n  }\n"]);return ze=function(){return e},e}var Je=P()(ze()),Be=Object(M.a)(Object(M.d)("popupData","setPopupData",null),Object(o.graphql)(Je,{props:function(e){return e.data}}),V.a)(function(e){var a=e.loading,t=e.popupData,n=e.setPopupData,r=Object(D.a)(e,["loading","popupData","setPopupData"]);if(a)return l.a.createElement(L,null);console.log(r);var s=O.a.get(r,"match.params.domain"),c=function(e){var a=e.responses,t=e.match,n=O.a.get(t,"params.domain");return n?((JSON.parse(a)||{}).items||[]).filter(function(e){var a=O.a.get(e,"hidden.email");return!!a&&a.includes(n)}).map(function(e){return ve(e)}):[]}(r);return c.length?l.a.createElement("div",null,l.a.createElement("div",{className:"d-flex justify-content-around flex-wrap"},c.map(function(e){return l.a.createElement("div",{className:j()(Ve.a.cardWrap),onClick:function(){return n(e)}},l.a.createElement(ye,{data:e}))})),l.a.createElement("div",{className:j()("d-flex justify-content-center mt-4")},!O.a.get(r,"session.me")&&l.a.createElement(U,{action:!0,to:"/create"},"Create your own")),l.a.createElement(qe,{size:"sm",hidden:!t,close:function(){return n(null)}},t?l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(Oe,{data:t})):l.a.createElement("span",null))):l.a.createElement("p",{className:"text-center"},"No cards found for ",l.a.createElement("b",null,s),". Be the first to ",l.a.createElement(T.a,{to:"/create"},"create one!"))}),Xe=function(){return l.a.createElement("p",null,"Not sure what team you're looking for :(")},Ke=function(e){return l.a.createElement(ie.a,null,l.a.createElement(me.a,{exact:!0,path:"/team/:domain",component:function(){return l.a.createElement(Be,e)}}),l.a.createElement(me.a,{exact:!0,path:"/team",component:Xe}))},Ye=function(e){return function(a){return l.a.createElement(o.Query,{query:De},function(t){var n=t.data,r=t.refetch;return l.a.createElement(e,Object.assign({},a,{session:n,refetch:r}))})}},$e=t(121),Qe=t(17),Ze=t(139),ea=function(e){localStorage.removeItem("token"),e.resetStore(),h.push("/signin")},aa=function(){return l.a.createElement(o.ApolloConsumer,null,function(e){return l.a.createElement("button",{type:"button",onClick:function(){return ea(e)}},l.a.createElement("i",{className:"fas fa-sign-out-alt"}))})},ta=t(13),na=t.n(ta),ra=Object.freeze({LANDING:{to:v,title:"\ud83c\udfe0"},ACCOUNT:{to:"/account",title:"",icon:"fas fa-cog"},ADMIN:{to:"/admin",title:"Admin"},SIGN_UP:{to:"/signup",title:"Sign up"},SIGN_IN:{to:"/signin",title:"Sign in"},CREATE:{to:b,title:"Create your card"},LOG_OUT:{kind:"LOG_OUT"}}),la=function(e){var a=e.title,t=e.to,r=e.hideMobileMenu,s=e.icon,c=e.styleNames,o=void 0===c?[]:c,i=e.attrs,m=void 0===i?{}:i,u=e.className,p=e.history,d=e.kind,E=t.replace(/\//g,""),_=j.a.apply(void 0,[na.a.navLink,na.a[E],"test-".concat(E),u].concat(Object(A.a)(o.map(function(e){return na.a[e]})))),f=function(e){e.preventDefault(),p.push(t),r&&r()},v=l.a.createElement(l.a.Fragment,null,s&&l.a.createElement("span",{className:na.a.iconWrap},l.a.createElement("i",{className:"fa-fw ".concat(s)})),l.a.createElement("span",{className:na.a.linkText},a));return"button"===d?l.a.createElement(U,Object(n.a)({onClick:f,className:_},m),v):l.a.createElement(Ze.a,Object.assign({exact:"/"===t},{to:t,className:_,onClick:f},{activeClassName:na.a.active}),v)},sa=Object(V.a)(function(e){var a=Object(Qe.a)({},e),t=!!O.a.get(a,"session.me"),r="ADMIN"===O.a.get(a,"session.me.role"),s=function(e){var a=e.isLoggedIn,t=e.isAdmin;return Object(D.a)(e,["isLoggedIn","isAdmin"]),a?{groupOne:[Object(n.a)({},ra.LANDING,{styleNames:[]})],groupTwo:Object(A.a)(t?[Object(n.a)({},ra.ADMIN)]:[]).concat([Object(n.a)({},ra.LOG_OUT)])}:{groupOne:[],groupTwo:[Object(n.a)({},ra.CREATE,{kind:"button",styleNames:[],attrs:{action:!0,small:!0}}),Object(n.a)({},ra.SIGN_IN,{kind:"button",styleNames:[],attrs:{link:!0,small:!0}})]}}(Object(n.a)({},a,{isLoggedIn:t,isAdmin:r}));return l.a.createElement(l.a.Fragment,null,O.a.map(s,function(e){return l.a.createElement("div",{className:na.a.linkGroup},e.map(function(e){return"LOG_OUT"===e.kind?l.a.createElement(aa,null):l.a.createElement(la,Object.assign({},a,e))}))}))}),ca=function(e){var a=e.children;Object(D.a)(e,["children"]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:j()(na.a.header)},l.a.createElement("div",{className:j()(na.a.headerContainer,"container")},a)),l.a.createElement("div",{className:j()(na.a.headerSpacer)}))},oa=t(74),ia=t.n(oa),ma=function(e){var a=e.location;return(O.a.get(a,"pathname")||"").replace("/","")},ua=(Object(M.a)(Object(M.d)("navIsCollapsed","setNavCollapsed",!1))(function(e){var a,t=e.children,n=Object(D.a)(e,["children"]),r=(n.currentUser,n.navIsCollapsed),s=n.setNavCollapsed,c=ma(n);return l.a.createElement(l.a.Fragment,null,l.a.createElement(ia.a,{navIsCollapsed:r,setNavCollapsed:s},l.a.createElement(sa,n)),l.a.createElement("div",{className:j()(na.a.page,na.a["".concat(c,"Page")],(a={},Object(k.a)(a,na.a.navIsCollapsed,r),Object(k.a)(a,"nav-collapsed",r),a))},t))}),function(e){var a=e.children,t=Object(D.a)(e,["children"]),n=ma(t);return l.a.createElement(l.a.Fragment,null,l.a.createElement(ca,null,l.a.createElement(sa,t)),l.a.createElement("div",{className:j()(na.a.page,na.a["".concat(ma(t),"Page")])},l.a.createElement("div",{className:j()(na.a.page,"container"),style:(r={pageName:n},r.pageName,{padding:"40px 0"})},a)));var r}),pa=function(e){var a=e.Component,t=e.Layout,n=void 0===t?ua:t,r=Object(D.a)(e,["Component","Layout"]);return l.a.createElement(n,r,l.a.createElement(a,r))},da=function(e){var a=e.component,t=Object(D.a)(e,["component"]);return l.a.createElement($e.a,Object.assign({},t,{render:function(e){return pa(Object(n.a)({Component:a},t))}}))},Ea=function(e){var a=e.component,t=Object(D.a)(e,["component"]);return l.a.createElement($e.a,Object.assign({},t,{render:function(e){return"ADMIN"===O.a.get(t,"session.me.role")?pa(Object(n.a)({Component:a},t)):l.a.createElement(Re.a,{to:v})}}))},_a=function(e){var a=e.component,t=Object(D.a)(e,["component"]);return l.a.createElement($e.a,Object.assign({},t,{render:function(e){return O.a.get(t,"session.me")?pa(Object(n.a)({Component:a},t)):l.a.createElement(Re.a,{to:b})}}))},fa=function(e){var a=e.component,t=Object(D.a)(e,["component"]);return l.a.createElement($e.a,Object.assign({},t,{render:function(e){return O.a.get(t,"session.me")?l.a.createElement(Re.a,{to:v}):pa(Object(n.a)({Component:a},t))}}))},va=Ye(function(e){return l.a.createElement(f.a,{history:h},l.a.createElement(l.a.Fragment,null,l.a.createElement(_a,Object.assign({exact:!0,path:v,component:Se},e)),l.a.createElement(fa,Object.assign({exact:!0,path:"/signup",component:ce},e)),l.a.createElement(fa,Object.assign({path:"/create",component:de},e)),l.a.createElement(da,Object.assign({path:"/team",component:Ke},e)),l.a.createElement(fa,Object.assign({exact:!0,path:"/signin",component:Ie},e)),l.a.createElement(_a,Object.assign({exact:!0,path:"/account",component:Ge},e)),l.a.createElement(Ea,Object.assign({exact:!0,path:"/admin",component:He},e))))}),ba="teamagram1.herokuapp.com",ga=new p.a({uri:"http://".concat(ba,"/graphql")}),ha=new d.a({uri:"ws://".concat(ba,"/graphql"),options:{reconnect:!0}});console.log("CLIENT connecting to graphql api http://".concat(ba,"/graphql"));var Na=Object(u.e)(function(e){var a=e.query,t=Object(m.e)(a),n=t.kind,r=t.operation;return"OperationDefinition"===n&&"subscription"===r},ha,ga),Oa=new u.a(function(e,a){return e.setContext(function(e){var a=e.headers,t=void 0===a?{}:a,r=localStorage.getItem("token");return r&&(t=Object(n.a)({},t,{"x-token":r})),{headers:t}}),a(e)}),ya=Object(E.a)(function(e){var a=e.graphQLErrors,t=e.networkError;a&&a.forEach(function(e){var a=e.message;e.locations,e.path;console.log("GraphQL error",a),"UNAUTHENTICATED"===a&&ea(wa)}),t&&(console.log("Network error",t),401===t.statusCode&&ea(wa))}),ja=u.a.from([Oa,ya,Na]),Ca=new _.a,wa=new i.a({link:ja,cache:Ca});c.a.render(l.a.createElement(o.ApolloProvider,{client:wa},l.a.createElement(va,null)),document.getElementById("root"))},13:function(e,a,t){e.exports={header:"layout_header__1JlwE",headerContainer:"layout_headerContainer__2sAxR",linkGroup:"layout_linkGroup__2bJUr",active:"layout_active__3ITC3",headerSpacer:"layout_headerSpacer__3Yq7C",page:"layout_page__1OOHC"}},22:function(e,a,t){e.exports={popup:"popup_popup__i6fyh",popupContent:"popup_popupContent__3Mq68",xs:"popup_xs__3zK0c",sm:"popup_sm__1P2wv",md:"popup_md__2Dn4V",xl:"popup_xl__EbKZj",max:"popup_max__3CSjK",fullScreen:"popup_fullScreen__1_KrH",popupTitle:"popup_popupTitle__1wTb8",popupActions:"popup_popupActions__1QPWw",hasTitle:"popup_hasTitle__17mzX",hasActions:"popup_hasActions__1jzpO",closeX:"popup_closeX__nWqmK",modal:"popup_modal__2Uvyc",hidden:"popup_hidden__3Sy51"}},3:function(e,a,t){e.exports={card:"card-styles_card__joViG",cardContainer:"card-styles_cardContainer__OD6hU",upper:"card-styles_upper__NMNoo",image:"card-styles_image__3SMVA",id:"card-styles_id__29SHW",name:"card-styles_name__3i-ga",skills:"card-styles_skills__3S6f-",skill:"card-styles_skill__2nH-D",emoji:"card-styles_emoji__39g15",skilltxt:"card-styles_skilltxt__2531W",chunk:"card-styles_chunk__3gW8i",facts:"card-styles_facts__2f1eA",fact:"card-styles_fact__cYD4l",answer:"card-styles_answer__3XrTH",miniCard:"card-styles_miniCard__2XT-G",miniHeader:"card-styles_miniHeader__3l2tu"}},50:function(e,a,t){e.exports={noWebkitAppearance:"button_noWebkitAppearance__3rzxq",button:"button_button__1Ulv8",disabled:"button_disabled__aWDzF",inactive:"button_inactive__etae_",active:"button_active__3bwJo",loading:"button_loading__2rr51",link:"button_link__j4kkv",square:"button_square__2JryP",block:"button_block__1STfE",wide:"button_wide__2V4lp",large:"button_large__3f-M7",small:"button_small__1ic6B",success:"button_success__C6xex",primary:"button_primary__2F20e",ghost:"button_ghost__3Utrv",action:"button_action__3IXQ_",danger:"button_danger__3gSjI",white:"button_white__2QPpq",whitePurple:"button_whitePurple__N-SUg"}},70:function(e,a,t){e.exports={block:"block_block__3-vTN"}},73:function(e,a,t){e.exports={cardWrap:"team_cardWrap__3j19h"}},74:function(e,a){},78:function(e,a,t){e.exports=t(127)}},[[78,2,1]]]);
//# sourceMappingURL=main.40686173.chunk.js.map